import e,{useEffect as t}from"react";function r({percent:e,width:t,strokeWidth:r=10,isTotal:a=!1}){const i={x:t/2,y:t/2},s=t/2-r/2,o=a?2*s*Math.PI*e/100:s*Math.PI*e/100;return{center:i,radius:s,strokeDasharrayPrint:o,strokeDasharrayHide:2*s*Math.PI-o,strokeDashoffset:a?-s*Math.PI/2:-s*Math.PI}}function a(a,i,s,o,n,c){const l=()=>{const e=((e,t)=>e<t.min?0:e>t.max?100:e/Math.abs(t.max-t.min)*100)(s,{min:o,max:n});return{circleParameters:r({percent:e,width:a,strokeWidth:i,isTotal:c}),baseCircleParameters:r({percent:100,width:a,strokeWidth:i,isTotal:c})}},{circleParameters:h,baseCircleParameters:d}=l(),[m,f]=e.useState(h),[k,u]=e.useState(d);return t((()=>{const{circleParameters:e,baseCircleParameters:t}=l();f(e),u(t)}),[s,a,c,i]),{circleParameters:m,baseCircleParameters:k,width:a}}function i({value:r=0,maxLimit:i=100,minLimit:s=0,barWidth:o=20,barColor:n="#5BB030",barBaseColor:c="#E5E5E5",labelColor:l="grey",labelFontFamily:h="sans-serif",labelFontWeight:d="bold",labelTemplate:m="{value}%",labelFontSize:f,indicatorColor:k="black",indicatorVisible:u=!0,isTotal:y=!1,borderType:b="round"}){const g=e.useRef(null),{width:x,height:p}=function(r,a,i){const s=()=>{const e=(e=>{const t=e.current;if(t)return t.clientWidth})(r)||300,t=i?e:function({width:e,strokeWidth:t=10}){return e/2+t}({width:e,strokeWidth:a});return{width:e,height:t}},{width:o,height:n}=s(),[c,l]=e.useState(o),[h,d]=e.useState(n);return t((()=>{const{width:e,height:t}=s();l(e),d(t)}),[r,i,a]),{width:c,height:h}}(g,o,y),{circleParameters:P,baseCircleParameters:D}=a(x,o,r,s,i,y);return e.createElement("div",{"data-testid":"simple-gauge",ref:g,style:{position:"relative"}},D&&P&&e.createElement("svg",{className:"gauge-svg",width:x,height:p,style:{height:"inherit",position:"relative"}},e.createElement("circle",{cx:D.center.x,cy:D.center.y,r:D.radius,strokeDasharray:`${D.strokeDasharrayPrint}, ${D.strokeDasharrayHide}`,strokeDashoffset:D.strokeDashoffset,fill:"none",stroke:c,strokeWidth:o,strokeLinecap:b}),e.createElement("circle",{cx:P.center.x,cy:P.center.y,r:P.radius,strokeDasharray:`${P.strokeDasharrayPrint}, ${P.strokeDasharrayHide}`,strokeDashoffset:P.strokeDashoffset,fill:"none",stroke:n,strokeWidth:o,strokeLinecap:b}),u&&e.createElement("circle",{cx:P.center.x,cy:P.center.y,r:P.radius,strokeDasharray:`1, ${P.strokeDasharrayPrint+P.strokeDasharrayHide}`,strokeDashoffset:P.strokeDashoffset-P.strokeDasharrayPrint,fill:"none",stroke:k,strokeWidth:o,strokeLinecap:"round"})),e.createElement("div",{style:{position:"absolute",top:0,left:0,width:x,height:p,display:"flex",justifyContent:"center",alignItems:""+(y?"center":"flex-end"),boxSizing:"border-box",padding:o/2+"px",fontSize:`${f||2*o+"px"}`,fontFamily:h,fontWeight:d,color:l}},((e,t,r)=>t.replace("{value}",((e,t)=>e<t.min?t.min:e>t.max?t.max:e)(e,r).toString()))(r,m,{min:s,max:i})))}export{i as SimpleGauge};
//# sourceMappingURL=index.js.map
